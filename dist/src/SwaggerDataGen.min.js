"use strict";function build(e,r){void 0===r&&(r={});var t=r.formatters,a=r.middleware,n=t||DEFAULT_CONFIG_FORMATTER,o=a||DEFAULT_CONFIG_MIDDLEWARE;return utils_1.configure(exports.CORE_FORMATTERS,n).forEach(function(e){var r=e.formatName,t=e.callback;return jsf.format(r,t)}),SwaggerParser.bundle(e).then(function(e){var r=utils_1.configure(exports.CORE_MIDDLEWARE,o),t=Object.assign({},e);return r.forEach(function(e){return t=e(t)}),t}).then(function(e){return SwaggerParser.dereference(e)}).catch(function(e){throw new Error("Error has occured when trying to bundle and dereference the OpenAPI / Swagger object. \n Error: "+e)})}function generate(e){var r=e.definitions,t=void 0===r?{}:r;return Object.keys(t).reduce(function(e,r){return e[r]=utils_1.generateData(t[r],jsf),e},{})}Object.defineProperty(exports,"__esModule",{value:!0});var SwaggerParser=require("swagger-parser"),jsf=require("json-schema-faker"),faker=require("faker"),middleware_1=require("./middleware"),formatters_1=require("./formatters"),utils_1=require("./utils");jsf.extend("faker",function(){return faker});var DEFAULT_CONFIG_FORMATTER={default:!0},DEFAULT_CONFIG_MIDDLEWARE={default:!0};exports.CORE_MIDDLEWARE=[middleware_1.requireProps,middleware_1.fakerMatcher,middleware_1.fakerDate],exports.CORE_FORMATTERS=[formatters_1.binary,formatters_1.byte,formatters_1.fullDate,formatters_1.password],exports.build=build,exports.generate=generate;var SwaggerDataGen=function(){return function(){}}();SwaggerDataGen.middleware=exports.CORE_MIDDLEWARE,SwaggerDataGen.formatters=exports.CORE_FORMATTERS,SwaggerDataGen.build=build,SwaggerDataGen.generate=generate,exports.default=SwaggerDataGen;